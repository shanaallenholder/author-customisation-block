{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_element","_icons","_keycodes","_i18n","_data","_blockIcon","_useBlockDisplayInformation","_useBlockDisplayTitle","_expander","_blockLock","_useListViewImages","_store","ListViewBlockSelectButton","className","block","clientId","onClick","onContextMenu","onMouseDown","onToggleExpanded","tabIndex","onFocus","onDragStart","onDragEnd","draggable","isExpanded","ariaDescribedBy","ref","blockInformation","useBlockDisplayInformation","blockTitle","useBlockDisplayTitle","context","isLocked","useBlockLock","isContentOnly","useSelect","select","blockEditorStore","getBlockEditingMode","shouldShowLockIcon","isSticky","positionType","images","useListViewImages","positionLabel","sprintf","__","onDragStartHandler","event","dataTransfer","clearData","onKeyDown","keyCode","ENTER","SPACE","_react","createElement","Button","clsx","href","default","icon","showColors","__experimentalHStack","alignment","justify","spacing","__experimentalTruncate","ellipsizeMode","anchor","Tooltip","text","Icon","pinSmall","length","map","image","index","key","style","backgroundImage","url","zIndex","lock","_default","exports","forwardRef"],"sources":["@wordpress/block-editor/src/components/list-view/block-select-button.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalTruncate as Truncate,\n\tTooltip,\n} from '@wordpress/components';\nimport { forwardRef } from '@wordpress/element';\nimport { Icon, lockSmall as lock, pinSmall } from '@wordpress/icons';\nimport { SPACE, ENTER } from '@wordpress/keycodes';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport useBlockDisplayTitle from '../block-title/use-block-display-title';\nimport ListViewExpander from './expander';\nimport { useBlockLock } from '../block-lock';\nimport useListViewImages from './use-list-view-images';\nimport { store as blockEditorStore } from '../../store';\n\nfunction ListViewBlockSelectButton(\n\t{\n\t\tclassName,\n\t\tblock: { clientId },\n\t\tonClick,\n\t\tonContextMenu,\n\t\tonMouseDown,\n\t\tonToggleExpanded,\n\t\ttabIndex,\n\t\tonFocus,\n\t\tonDragStart,\n\t\tonDragEnd,\n\t\tdraggable,\n\t\tisExpanded,\n\t\tariaDescribedBy,\n\t},\n\tref\n) {\n\tconst blockInformation = useBlockDisplayInformation( clientId );\n\tconst blockTitle = useBlockDisplayTitle( {\n\t\tclientId,\n\t\tcontext: 'list-view',\n\t} );\n\tconst { isLocked } = useBlockLock( clientId );\n\tconst { isContentOnly } = useSelect(\n\t\t( select ) => ( {\n\t\t\tisContentOnly:\n\t\t\t\tselect( blockEditorStore ).getBlockEditingMode( clientId ) ===\n\t\t\t\t'contentOnly',\n\t\t} ),\n\t\t[ clientId ]\n\t);\n\tconst shouldShowLockIcon = isLocked && ! isContentOnly;\n\tconst isSticky = blockInformation?.positionType === 'sticky';\n\tconst images = useListViewImages( { clientId, isExpanded } );\n\n\tconst positionLabel = blockInformation?.positionLabel\n\t\t? sprintf(\n\t\t\t\t// translators: 1: Position of selected block, e.g. \"Sticky\" or \"Fixed\".\n\t\t\t\t__( 'Position: %1$s' ),\n\t\t\t\tblockInformation.positionLabel\n\t\t  )\n\t\t: '';\n\n\t// The `href` attribute triggers the browser's native HTML drag operations.\n\t// When the link is dragged, the element's outerHTML is set in DataTransfer object as text/html.\n\t// We need to clear any HTML drag data to prevent `pasteHandler` from firing\n\t// inside the `useOnBlockDrop` hook.\n\tconst onDragStartHandler = ( event ) => {\n\t\tevent.dataTransfer.clearData();\n\t\tonDragStart?.( event );\n\t};\n\n\t/**\n\t * @param {KeyboardEvent} event\n\t */\n\tfunction onKeyDown( event ) {\n\t\tif ( event.keyCode === ENTER || event.keyCode === SPACE ) {\n\t\t\tonClick( event );\n\t\t}\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tclassName={ clsx(\n\t\t\t\t'block-editor-list-view-block-select-button',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\tonClick={ onClick }\n\t\t\tonContextMenu={ onContextMenu }\n\t\t\tonKeyDown={ onKeyDown }\n\t\t\tonMouseDown={ onMouseDown }\n\t\t\tref={ ref }\n\t\t\ttabIndex={ tabIndex }\n\t\t\tonFocus={ onFocus }\n\t\t\tonDragStart={ onDragStartHandler }\n\t\t\tonDragEnd={ onDragEnd }\n\t\t\tdraggable={ draggable }\n\t\t\thref={ `#block-${ clientId }` }\n\t\t\taria-describedby={ ariaDescribedBy }\n\t\t\taria-expanded={ isExpanded }\n\t\t>\n\t\t\t<ListViewExpander onClick={ onToggleExpanded } />\n\t\t\t<BlockIcon\n\t\t\t\ticon={ blockInformation?.icon }\n\t\t\t\tshowColors\n\t\t\t\tcontext=\"list-view\"\n\t\t\t/>\n\t\t\t<HStack\n\t\t\t\talignment=\"center\"\n\t\t\t\tclassName=\"block-editor-list-view-block-select-button__label-wrapper\"\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t\tspacing={ 1 }\n\t\t\t>\n\t\t\t\t<span className=\"block-editor-list-view-block-select-button__title\">\n\t\t\t\t\t<Truncate ellipsizeMode=\"auto\">{ blockTitle }</Truncate>\n\t\t\t\t</span>\n\t\t\t\t{ blockInformation?.anchor && (\n\t\t\t\t\t<span className=\"block-editor-list-view-block-select-button__anchor-wrapper\">\n\t\t\t\t\t\t<Truncate\n\t\t\t\t\t\t\tclassName=\"block-editor-list-view-block-select-button__anchor\"\n\t\t\t\t\t\t\tellipsizeMode=\"auto\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ blockInformation.anchor }\n\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t{ positionLabel && isSticky && (\n\t\t\t\t\t<Tooltip text={ positionLabel }>\n\t\t\t\t\t\t<Icon icon={ pinSmall } />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) }\n\t\t\t\t{ images.length ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"block-editor-list-view-block-select-button__images\"\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t>\n\t\t\t\t\t\t{ images.map( ( image, index ) => (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"block-editor-list-view-block-select-button__image\"\n\t\t\t\t\t\t\t\tkey={ image.clientId }\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${ image.url })`,\n\t\t\t\t\t\t\t\t\tzIndex: images.length - index, // Ensure the first image is on top, and subsequent images are behind.\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</span>\n\t\t\t\t) : null }\n\t\t\t\t{ shouldShowLockIcon && (\n\t\t\t\t\t<span className=\"block-editor-list-view-block-select-button__lock\">\n\t\t\t\t\t\t<Icon icon={ lock } />\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</Button>\n\t);\n}\n\nexport default forwardRef( ListViewBlockSelectButton );\n"],"mappings":"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","ignoreList":[]}